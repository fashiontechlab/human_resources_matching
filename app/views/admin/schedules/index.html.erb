<% @page_title = "出勤カレンダー" %>
<h1 class="title_name"><%= @page_title %><h1>
<%= month_calendar events: @schedules do |date, schedules| %>
  <%= date %>

  <% schedules.each do |schedule| %>
  <div class="calendar">
    <%= schedule.workday %>：
    <%= schedule.human_resource.full_name %>
  </div>
  <% end %>
<% end %>

<% @page_title = "出勤一覧" %>
<h1 class="title_name"><%= @page_title %><h1>

    <%= search_form_for @q, url: search_admin_schedules_path do |f| %>
    <%= f.label :human_resource_full_name_cont, "名前で検索する" %><br>
    <%= f.search_field :human_resource_full_name_cont %><br>
    <%= f.submit "検索"%>
    <% end %><br>

<table class="attr">
  <tbody>
    <div class='schedule'>
      <tr>
        <td>氏名</td>
        <td>出勤可否</td>
        <td>出勤日</td>
        <td>出勤時間</td>
        <td>退勤時間</td>
        <td>出勤状況</td>
        <td>勤務時間交渉</td>
      </tr>
      <% @schedules.each do |schedule| %>
      <tr>
        <td><%= schedule.human_resource.full_name %></td>
        <td><%= schedule.workday %></td>
        <td><%= schedule.start_time.strftime("%m/%d") %></td>
        <td><%= schedule.start.strftime("%H:%M") %></td>
        <td><%= schedule.end.strftime("%H:%M") %></td>
        <td><%= schedule.status == true ? "未決定" : "決定"%></td>
        <td><%= schedule.approval_status == true ? "交渉中" : "交渉無し" %></td>
      </tr>
      <% end %>
    </div>
  </tbody>
</table>
<%= paginate @schedules %>
